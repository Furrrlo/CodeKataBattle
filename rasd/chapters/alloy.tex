\lstinputlisting[language=alloy]{alloy/model.als}

\begin{adjustbox}{max size={\textwidth}{\textheight}}
    \includegraphics[]{alloy/diagrammone.pdf}
\end{adjustbox}